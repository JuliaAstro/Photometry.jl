<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Apertures · Photometry.jl</title><meta name="title" content="Apertures · Photometry.jl"/><meta property="og:title" content="Apertures · Photometry.jl"/><meta property="twitter:title" content="Apertures · Photometry.jl"/><meta name="description" content="Documentation for Photometry.jl."/><meta property="og:description" content="Documentation for Photometry.jl."/><meta property="twitter:description" content="Documentation for Photometry.jl."/><meta property="og:url" content="https://juliaastro.org/Photometry/stable/apertures/apertures/"/><meta property="twitter:url" content="https://juliaastro.org/Photometry/stable/apertures/apertures/"/><link rel="canonical" href="https://juliaastro.org/Photometry/stable/apertures/apertures/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Photometry.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Photometry.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Background Estimation</span><ul><li><a class="tocitem" href="../../background/">Getting Started</a></li><li><a class="tocitem" href="../../background/estimators/">Background Estimators</a></li><li><a class="tocitem" href="../../background/interpolators/">Background Interpolators</a></li></ul></li><li><span class="tocitem">Source Detection</span><ul><li><a class="tocitem" href="../../detection/">Getting Started</a></li><li><a class="tocitem" href="../../detection/algs/">Algorithms</a></li></ul></li><li><span class="tocitem">Aperture Photometry</span><ul><li><a class="tocitem" href="../">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Apertures</a><ul class="internal"><li><a class="tocitem" href="#API/Reference"><span>API/Reference</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Aperture Photometry</a></li><li class="is-active"><a href>Apertures</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Apertures</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaAstro/Photometry.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaAstro/Photometry.jl/blob/main/docs/src/apertures/apertures.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Apertures"><a class="docs-heading-anchor" href="#Apertures">Apertures</a><a id="Apertures-1"></a><a class="docs-heading-anchor-permalink" href="#Apertures" title="Permalink"></a></h1><p>All apertures will rely on a position and the shape parameters.</p><pre><code class="language-julia hljs">aperture = Aperture(x0, y0, shape_params...)</code></pre><p>The position can be pixels or sky coordinates. The sky coordinate positions utilize <a href="https://juliaastro.github.io/SkyCoords.jl/stable">SkyCoords.jl</a> and <a href="https://juliaastro.github.io/WCS.jl/stable">WCS.jl</a> for conversion.</p><div class="admonition is-warning" id="Warning-f45058e2d22007e5"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-f45058e2d22007e5" title="Permalink"></a></header><div class="admonition-body"><p>Sky coordinates are not supported yet.</p></div></div><div class="admonition is-info" id="Note-5342b1d989a1f537"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-5342b1d989a1f537" title="Permalink"></a></header><div class="admonition-body"><p>See <a href="../#Pixel-Convention">Pixel Convention</a> - The origin is the bottom-left with <code>(1, 1)</code> being the center of the pixel.</p></div></div><h2 id="API/Reference"><a class="docs-heading-anchor" href="#API/Reference">API/Reference</a><a id="API/Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API/Reference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.AbstractAperture" href="#Photometry.Aperture.AbstractAperture"><code>Photometry.Aperture.AbstractAperture</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractAperture{T} &lt;: AbstractMatrix{T}</code></pre><p>The abstract super-type for Apertures.</p><p>Apertures can be thought of as a cutout or stamp of a geometric shape with shading applied. For example, a circular aperture with a diameter of 3 pixels will require a 5x5 pixel grid (when perfectly on-grid) to represent.</p><pre><code class="language-julia-repl hljs">julia&gt; ap = CircularAperture(3, 3, 2.5)
5×5 CircularAperture{Float64} with indices 1:5×1:5:
 0.136857  0.769325  0.983232  0.769325  0.136857
 0.769325  1.0       1.0       1.0       0.769325
 0.983232  1.0       1.0       1.0       0.983232
 0.769325  1.0       1.0       1.0       0.769325
 0.136857  0.769325  0.983232  0.769325  0.136857</code></pre><p>This is a useful way of thinking about apertures: if we have some data, we can weight the data with the aperture.</p><pre><code class="language-julia-repl hljs">julia&gt; data = fill(2, 5, 5);

julia&gt; idxs = map(intersect, axes(ap), axes(data)) |&gt; CartesianIndices;

julia&gt; weighted_cutout = data[idxs] .* ap[idxs]
5×5 Matrix{Float64}:
 0.273713  1.53865  1.96646  1.53865  0.273713
 1.53865   2.0      2.0      2.0      1.53865
 1.96646   2.0      2.0      2.0      1.96646
 1.53865   2.0      2.0      2.0      1.53865
 0.273713  1.53865  1.96646  1.53865  0.273713</code></pre><p>Performing aperture photometry is merely summing the weighted cutout shown above.</p><pre><code class="language-julia-repl hljs">julia&gt; flux = sum(weighted_cutout)
39.269908169872416

julia&gt; flux ≈ (π * 2.5^2) * 2 # area of circle times intensity of 2
true</code></pre><p>What&#39;s interesting about the implementation of apertures, though, is they are lazy. This means there is no stored matrix of aperture values; rather, they are calculated on the fly as needed.</p><pre><code class="language-julia-repl hljs">julia&gt; axes(ap)
(1:5, 1:5)

julia&gt; ap[-10, -10] # out-of-bounds, but calculated on the fly
0.0

julia&gt; ap .* ones(5, 7) # broadcasts to eachindex(data), regardless of ap bound
5×7 Matrix{Float64}:
 0.136857  0.769325  0.983232  0.769325  0.136857  0.0  0.0
 0.769325  1.0       1.0       1.0       0.769325  0.0  0.0
 0.983232  1.0       1.0       1.0       0.983232  0.0  0.0
 0.769325  1.0       1.0       1.0       0.769325  0.0  0.0
 0.136857  0.769325  0.983232  0.769325  0.136857  0.0  0.0</code></pre><p>This allows extremely efficient computation of aperture photometry from small to medium sized apertures.</p><pre><code class="language-julia-repl hljs">julia&gt; using BenchmarkTools

julia&gt; @btime sum(idx -&gt; $ap[idx] * $data[idx], $idxs)
  1.097 μs (0 allocations: 0 bytes)
39.26990816987243</code></pre><p>This is essentially the full implementation of <a href="../#Photometry.Aperture.photometry"><code>photometry</code></a>, save for the packing of additional information into a tabular form.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/Aperture.jl#L19-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.Subpixel" href="#Photometry.Aperture.Subpixel"><code>Photometry.Aperture.Subpixel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Subpixel(ap, N=1) &lt;: AbstractAperture</code></pre><p>Use a subpixel quadrature approximation for pixel shading instead of exact geometric methods.</p><p>For any pixel laying on the border of <code>ap</code>, this alters the shading algorithm by breaking the border pixel up into <code>(N, N)</code> subpixels. The shading value is the fraction of these subpixels within the geometric border of <code>ap</code>.</p><p>Using a subpixel shading method is sometimes faster than exact methods at the cost of accuracy. For <a href="#Photometry.Aperture.CircularAperture"><code>CircularAperture</code></a> the subpixel method is only faster than the exact method for <code>N</code> ~ 7. for <a href="#Photometry.Aperture.EllipticalAperture"><code>EllipticalAperture</code></a> the cutoff is <code>N</code> ~ 12, and for <a href="#Photometry.Aperture.RectangularAperture"><code>RectangularAperture</code></a> the cutoff is <code>N</code> ~ 20.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ap = CircularAperture(3, 3, 2.5)
5×5 CircularAperture{Float64} with indices 1:5×1:5:
 0.136857  0.769325  0.983232  0.769325  0.136857
 0.769325  1.0       1.0       1.0       0.769325
 0.983232  1.0       1.0       1.0       0.983232
 0.769325  1.0       1.0       1.0       0.769325
 0.136857  0.769325  0.983232  0.769325  0.136857

julia&gt; sub_ap = Subpixel(ap, 5)
5×5 Subpixel{Float64, CircularAperture{Float64}} with indices 1:5×1:5:
 0.12  0.76  1.0  0.76  0.12
 0.76  1.0   1.0  1.0   0.76
 1.0   1.0   1.0  1.0   1.0
 0.76  1.0   1.0  1.0   0.76
 0.12  0.76  1.0  0.76  0.12</code></pre><div class="admonition is-info" id="Note-f2ddb4a7df093de6"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-f2ddb4a7df093de6" title="Permalink"></a></header><div class="admonition-body"><p><code>photutils</code> offers a <code>center</code> shading method which is equivalent to using the <code>Subpixel</code> method with 1 subpixel. To avoid unneccessary namespace cluttering, we simply instruct users to use <code>Subpixel(ap)</code> instead.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/Aperture.jl#L125-L165">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.area_arc" href="#Photometry.Aperture.area_arc"><code>Photometry.Aperture.area_arc</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Area of a circular segment above a chord between two points with circle radius <code>r</code></p><p><a href="http://mathworld.wolfram.com/CircularSegment.html">Reference</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/overlap.jl#L103-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.circular_overlap_core" href="#Photometry.Aperture.circular_overlap_core"><code>Photometry.Aperture.circular_overlap_core</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Core of circular overlap routine</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/overlap.jl#L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.circular_overlap_single_exact" href="#Photometry.Aperture.circular_overlap_single_exact"><code>Photometry.Aperture.circular_overlap_single_exact</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Area of overlap between a rectangle and a circle</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/overlap.jl#L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.inside_ellipse" href="#Photometry.Aperture.inside_ellipse"><code>Photometry.Aperture.inside_ellipse</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inside_ellipse(x, y, h, k, cxx, cyy, cxy)</code></pre><ul><li>x: x coordinate of the test point</li><li>y: y coordinate of the test point</li><li>h: x coordinate of the center of ellipse</li><li>k: y coordinate of the center of ellipse</li><li>cxx, cyy, cxy: coefficients of equation of ellipse</li></ul><p>Utility function to find whether a point is inside ellipse or not.</p><p>If point inside ellipse: Returns true else returns false</p><p>General equation of ellipse:     cxx * (x - h)^2 + cxy * (x - h) * (y - k) + cyy * (y - k)^2 = 1</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/overlap.jl#L127-L142">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.size-Tuple{Photometry.Aperture.AbstractAperture}" href="#Base.size-Tuple{Photometry.Aperture.AbstractAperture}"><code>Base.size</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">size(::AbstractAperture)</code></pre><p>Return (<code>ny</code>, <code>nx</code>) of the aperture.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/Aperture.jl#L110-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.area_triangle" href="#Photometry.Aperture.area_triangle"><code>Photometry.Aperture.area_triangle</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Area of a triangle defined by three vertices</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/overlap.jl#L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.inside_rectangle" href="#Photometry.Aperture.inside_rectangle"><code>Photometry.Aperture.inside_rectangle</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>intersection with rectangular using implicit Lamé curve</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/overlap.jl#L408">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.bounds" href="#Photometry.Aperture.bounds"><code>Photometry.Aperture.bounds</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bounds(::AbstractAperture)</code></pre><p>Return the (<code>xlow</code>, <code>xhigh</code>, <code>ylow</code>, <code>yhigh</code>) bounds for a given Aperture.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/Aperture.jl#L101-L105">source</a></section></article><h3 id="Circular-Apertures"><a class="docs-heading-anchor" href="#Circular-Apertures">Circular Apertures</a><a id="Circular-Apertures-1"></a><a class="docs-heading-anchor-permalink" href="#Circular-Apertures" title="Permalink"></a></h3><p>These apertures are parameterized by radius.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.CircularAperture" href="#Photometry.Aperture.CircularAperture"><code>Photometry.Aperture.CircularAperture</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CircularAperture(x, y, r)
CircularAperture(position, r)</code></pre><p>A circular aperture.</p><p>A circular aperture with radius <code>r</code>. <code>r</code> must be greater than or equal to 0.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ap = CircularAperture(0, 0, 10)
21×21 CircularAperture{Int64} with indices -10:10×-10:10:
 0.0        0.0       0.0         …  0.0         0.0       0.0
 0.0        0.0       0.0            0.0         0.0       0.0
 0.0        0.0       0.0            0.0         0.0       0.0
 0.0        0.0       0.00571026     0.00571026  0.0       0.0
 0.0        0.0       0.491844       0.491844    0.0       0.0
 0.0        0.170878  0.982952    …  0.982952    0.170878  0.0
 0.0        0.659735  1.0            1.0         0.659735  0.0
 0.0590655  0.975524  1.0            1.0         0.975524  0.0590655
 0.293527   1.0       1.0            1.0         1.0       0.293527
 0.445643   1.0       1.0            1.0         1.0       0.445643
 ⋮                                ⋱                        ⋮
 0.293527   1.0       1.0            1.0         1.0       0.293527
 0.0590655  0.975524  1.0            1.0         0.975524  0.0590655
 0.0        0.659735  1.0            1.0         0.659735  0.0
 0.0        0.170878  0.982952    …  0.982952    0.170878  0.0
 0.0        0.0       0.491844       0.491844    0.0       0.0
 0.0        0.0       0.00571026     0.00571026  0.0       0.0
 0.0        0.0       0.0            0.0         0.0       0.0
 0.0        0.0       0.0            0.0         0.0       0.0
 0.0        0.0       0.0         …  0.0         0.0       0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/circular.jl#L7-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.CircularAnnulus" href="#Photometry.Aperture.CircularAnnulus"><code>Photometry.Aperture.CircularAnnulus</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CircularAnnulus(x, y, r_in, r_out)
CircularAnnulus(position, r_in, r_out)</code></pre><p>A circular annulus with inner radius <code>r_in</code> and outer radius <code>r_out</code>. 0 ≤ <code>r_in</code> ≤ <code>r_out</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ap = CircularAnnulus(0, 0, 5, 10)
21×21 CircularAnnulus{Int64} with indices -10:10×-10:10:
 0.0        0.0       0.0         …  0.0         0.0       0.0
 0.0        0.0       0.0            0.0         0.0       0.0
 0.0        0.0       0.0            0.0         0.0       0.0
 0.0        0.0       0.00571026     0.00571026  0.0       0.0
 0.0        0.0       0.491844       0.491844    0.0       0.0
 0.0        0.170878  0.982952    …  0.982952    0.170878  0.0
 0.0        0.659735  1.0            1.0         0.659735  0.0
 0.0590655  0.975524  1.0            1.0         0.975524  0.0590655
 0.293527   1.0       1.0            1.0         1.0       0.293527
 0.445643   1.0       1.0            1.0         1.0       0.445643
 ⋮                                ⋱                        ⋮
 0.293527   1.0       1.0            1.0         1.0       0.293527
 0.0590655  0.975524  1.0            1.0         0.975524  0.0590655
 0.0        0.659735  1.0            1.0         0.659735  0.0
 0.0        0.170878  0.982952    …  0.982952    0.170878  0.0
 0.0        0.0       0.491844       0.491844    0.0       0.0
 0.0        0.0       0.00571026     0.00571026  0.0       0.0
 0.0        0.0       0.0            0.0         0.0       0.0
 0.0        0.0       0.0            0.0         0.0       0.0
 0.0        0.0       0.0         …  0.0         0.0       0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/circular.jl#L84-L115">source</a></section></article><h3 id="Elliptical-Apertures"><a class="docs-heading-anchor" href="#Elliptical-Apertures">Elliptical Apertures</a><a id="Elliptical-Apertures-1"></a><a class="docs-heading-anchor-permalink" href="#Elliptical-Apertures" title="Permalink"></a></h3><p>These apertures are parameterized by the semi-major axis <code>a</code>, semi-minor axis <code>b</code> and position angle in degrees counter-clockwise from the positive x-axis <code>θ</code></p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.EllipticalAperture" href="#Photometry.Aperture.EllipticalAperture"><code>Photometry.Aperture.EllipticalAperture</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EllipticalAperture(x, y, a, b, θ=0)
EllipticalAperture(position, a, b, θ=0)</code></pre><p>An elliptical aperture with semi-major axis <code>a</code>, semi-minor axis <code>b</code>, and position angle <code>θ</code>. <code>a</code> and <code>b</code> must be ≥ 0, <code>θ</code> is measured in degrees counter-clockwise the standard x-axis.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ap = EllipticalAperture(0, 0, 4, 2, 35)
7×5 EllipticalAperture{Int64} with indices -3:3×-2:2:
 0.873382  0.844185  0.324917  0.0       0.0
 1.0       1.0       0.997821  0.435284  0.0
 1.0       1.0       1.0       0.990119  0.23968
 0.796137  1.0       1.0       1.0       0.796137
 0.23968   0.990119  1.0       1.0       1.0
 0.0       0.435284  0.997821  1.0       1.0
 0.0       0.0       0.324917  0.844185  0.873382</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/elliptical.jl#L5-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.EllipticalAnnulus" href="#Photometry.Aperture.EllipticalAnnulus"><code>Photometry.Aperture.EllipticalAnnulus</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EllipticalAnnulus(x, y, a_in, a_out, b_out, θ=0)
EllipticalAnnulus(position, a_in, a_out, b_out, θ=0)</code></pre><p>An elliptical annulus with inner semi-major axis <code>a_in</code>, outer semi-major axis <code>a_out</code>, outer semi-minor axis <code>b_out</code>, and position angle <code>θ</code>. <code>a_out</code> ≥ <code>a_in</code> ≥ 0 and <code>b_out</code> must be ≥ 0, <code>θ</code> is measured in degrees counter-clockwise the standard x-axis.</p><p><code>b_in</code> will automatically be calculated from <code>(a_in / a_out) * b_out</code>. Note this may cause a type instability.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ap = EllipticalAnnulus(0, 0, 4, 10, 5, 45)
15×15 EllipticalAnnulus{Float64} with indices -7:7×-7:7:
 0.594853   1.0       1.0       1.0         …  0.0       0.0       0.0
 1.0        1.0       1.0       1.0            0.0       0.0       0.0
 1.0        1.0       1.0       1.0            0.0       0.0       0.0
 1.0        1.0       1.0       1.0            0.0       0.0       0.0
 1.0        1.0       1.0       1.0            0.0       0.0       0.0
 0.814163   1.0       1.0       1.0         …  0.414163  0.0       0.0
 0.369432   1.0       1.0       1.0            0.975704  0.193728  0.0
 0.0112571  0.809079  1.0       1.0            1.0       0.809079  0.0112571
 0.0        0.193728  0.975704  1.0            1.0       1.0       0.369432
 0.0        0.0       0.414163  1.0            1.0       1.0       0.814163
 0.0        0.0       0.0       0.546165    …  1.0       1.0       1.0
 0.0        0.0       0.0       0.00252321     1.0       1.0       1.0
 0.0        0.0       0.0       0.0            1.0       1.0       1.0
 0.0        0.0       0.0       0.0            1.0       1.0       1.0
 0.0        0.0       0.0       0.0            1.0       1.0       0.594853</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/elliptical.jl#L125-L155">source</a></section></article><h3 id="Rectangular-Apertures"><a class="docs-heading-anchor" href="#Rectangular-Apertures">Rectangular Apertures</a><a id="Rectangular-Apertures-1"></a><a class="docs-heading-anchor-permalink" href="#Rectangular-Apertures" title="Permalink"></a></h3><p>These apertures are parameterized by width <code>w</code>, height <code>h</code>, and position angle in degrees counter-clockwise from the positive x-axis <code>θ</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.RectangularAperture" href="#Photometry.Aperture.RectangularAperture"><code>Photometry.Aperture.RectangularAperture</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RectangularAperture(x, y, w, h, θ=0)
RectangularAperture(position, w, h, θ=0)</code></pre><p>A rectangular aperture.</p><p>A rectangular aperture with width <code>w</code>, height <code>h</code>, and position angle <code>θ</code> in degrees.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ap = RectangularAperture(0, 0, 10, 4, 0)
11×5 RectangularAperture{Int64} with indices -5:5×-2:2:
 0.25  0.5  0.5  0.5  0.25
 0.5   1.0  1.0  1.0  0.5
 0.5   1.0  1.0  1.0  0.5
 0.5   1.0  1.0  1.0  0.5
 0.5   1.0  1.0  1.0  0.5
 0.5   1.0  1.0  1.0  0.5
 0.5   1.0  1.0  1.0  0.5
 0.5   1.0  1.0  1.0  0.5
 0.5   1.0  1.0  1.0  0.5
 0.5   1.0  1.0  1.0  0.5
 0.25  0.5  0.5  0.5  0.25</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/rectangle.jl#L6-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Photometry.Aperture.RectangularAnnulus" href="#Photometry.Aperture.RectangularAnnulus"><code>Photometry.Aperture.RectangularAnnulus</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RectangularAnnulus(x, y, w_in, w_out, h_out, θ=0)
RectangularAnnulus(position, w_in, w_out, h_out, θ=0)</code></pre><p>A rectangular annulus with inner width <code>w_in</code>, outer width <code>w_out</code>, outer height <code>h_out</code>, and position angle <code>θ</code> in degrees. <code>h_in</code> is automatically calculated from <code>w_in / w_out * h_out</code>. Note that <code>w_out ≥ w_in &gt; 0</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ap = RectangularAnnulus(0, 0, 5, 10, 8, 45)
13×13 RectangularAnnulus{Float64} with indices -6:6×-6:6:
 0.0         0.0         0.0         …  0.0         0.0         0.0
 0.0         0.0         0.0            0.0         0.0         0.0
 0.0         0.0         0.00252532     0.0         0.0         0.0
 0.0         0.00252532  0.568542       0.0         0.0         0.0
 0.00252532  0.568542    1.0            0.215729    0.0         0.0
 0.528175    1.0         1.0         …  1.0         0.215729    0.0
 0.215729    1.0         1.0            1.0         1.0         0.215729
 0.0         0.215729    1.0            1.0         1.0         0.528175
 0.0         0.0         0.215729       1.0         0.568542    0.00252532
 0.0         0.0         0.0            0.568542    0.00252532  0.0
 0.0         0.0         0.0         …  0.00252532  0.0         0.0
 0.0         0.0         0.0            0.0         0.0         0.0
 0.0         0.0         0.0            0.0         0.0         0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/Photometry.jl/blob/22fd8294e40139013f7bb948aa5971955544005c/src/aperture/rectangle.jl#L98-L124">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Getting Started</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 22 October 2025 09:04">Wednesday 22 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
